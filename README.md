byof
====

document for BYOF (build your own framework) using PHP. 

thoughts and design decisions.

PHPでもバージョン5.3での名前空間の導入と、composerの登場で、コンポーネントを使うことが簡単になりました。
それに伴い、自分でフレームワークを作ろう、という記事をよく見かけるようになりました。

ただし、実際に本格的なフレームワークを作り込んだという話は余り見当たらず。
ほとんどは、簡単なサンプル、あるいは作ったという話が多い気がします。

なので、こんなことを書き始めたのですが、実は書いている理由は作り方が知りたいからではないのです。

「なぜ？」が知りたい
-------------

自分が知りたいのは、
*   フレームワークを設計する際に出てくる問題は何なのか？
*   それに対する方針はどんな方向があるのか、

という部分です。

もう少し説明すると、ほとんどの開発・設計においては次のステップを踏みます。

1. 問題の提起、
2. 方針の決定、
3. 問題の解決（実装）、
4. 使い方などマニュアルを作成

既存のフレームワークを見れば、使い方などのマニュアルは充実してますし、コードを読めば解決した方法は分かります。

一方、どんな問題を想定して、どういう方向で解決しようとしたかについては、あまりお目にかかったことがありません。
多分、Bear.Sundayのブログが一番詳しい氣がします。



自作フレームワークの利点
-------------------

ところで、なんでフレームワークを自作するのでしょう。

フレームワークに比べて、コンポーネントのほうが長生きと思うからです。
したがって数年以上に渡りサポートするプロジェクトでは、フレームワークではなく、コンポーネントに依存するほうが運用が楽なのではないかと考えているからです。

例えば、セキュリティパッチが出る、新しい機能で使いたいものが出た、という場合でもフレームワークだと全てのコンポーネントが更新されてしまいます。
互換性や使い勝手などが大きく損なわれるケースというはあると思います。

一方、コンポーネントであれば、必要な部分のみを更新することが可能です。
そして十分に疎結合であれば、更新の影響は限られる「はず」です。



